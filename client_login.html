<!DOCTYPE html><html lang="th"><head><meta charset="utf-8">
<title>‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤</title>
<link href="https://fonts.googleapis.com/css2?family=Prompt:wght@400;600;700&display=swap" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
<script src="config.js"></script>
<style>body{font-family:"Prompt",sans-serif;display:flex;justify-content:center;align-items:center;min-height:100vh;margin:0;background:linear-gradient(135deg,#06b6d4,#10b981)}
.box{background:#fff;padding:34px;border-radius:16px;box-shadow:0 10px 35px rgba(0,0,0,.1);max-width:380px;width:100%;text-align:center}
input,button{width:100%;padding:12px;margin:8px 0;border-radius:10px;border:1px solid #e2e8f0;font-size:15px}
button{border:none;color:#fff;font-weight:700;background:linear-gradient(135deg,#0ea5e9,#10b981);cursor:pointer}
.msg{min-height:20px;font-size:14px;color:#065f46;margin-top:8px}</style></head>
<body>
  <div class="box">
    <h2>üîê ‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤</h2>
    <input id="email" type="email" placeholder="example@company.com">
    <button id="btnMagic">‡∏™‡πà‡∏á Magic Link</button>
    <div class="msg" id="msg"></div>
  </div>
<script>
const {SUPABASE_URL,SUPABASE_ANON_KEY,REDIRECT_CLIENT}=window.APP_CONFIG;
const sb=supabase.createClient(SUPABASE_URL,SUPABASE_ANON_KEY);
const toUrl=p=>new URL(p,location.href).href;
document.getElementById('btnMagic').onclick=async()=>{
  const email=document.getElementById('email').value.trim(); const msg=document.getElementById('msg');
  if(!email){ msg.textContent='‚ö†Ô∏è ‡∏Å‡∏£‡∏≠‡∏Å‡∏≠‡∏µ‡πÄ‡∏°‡∏•'; return; }
  const {error}=await sb.auth.signInWithOtp({email,options:{emailRedirectTo:toUrl(REDIRECT_CLIENT)}});
  msg.textContent=error?('‚ùå '+error.message):'‚úÖ ‡∏™‡πà‡∏á Magic Link ‡πÅ‡∏•‡πâ‡∏ß';
};
</script></body></html>
