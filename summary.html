<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡∏Ç‡∏≠‡∏á‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤ ‚Äî R.Good Service</title>

<!-- ‡πÉ‡∏ä‡πâ UMD ‡πÉ‡∏´‡πâ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠/‡∏≠‡∏¥‡∏ô‡πÅ‡∏≠‡∏õ -->
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2/dist/umd/supabase.min.js"></script>
<link href="https://fonts.googleapis.com/css2?family=Prompt:wght@400;600;700&display=swap" rel="stylesheet">

<style>
  :root{
    --bg:#f9fafb;
    --card:#ffffff;
    --border:#e5e7eb;
    --text:#0f172a;
    --muted:#64748b;
    --accent:#0ea5a5;
    --warn:#b45309;
    --danger:#b91c1c;
    --ok:#047857;
    --radius:14px;

    /* ‡∏™‡∏µ‡∏û‡∏∑‡πâ‡∏ô‡∏´‡∏•‡∏±‡∏á‡∏Ç‡∏≠‡∏á‡πÅ‡∏ñ‡∏ß‡∏ï‡∏≤‡∏°‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ (‡πÉ‡∏´‡πâ‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡∏≠‡∏≤‡∏£‡∏°‡∏ì‡πå‡πÅ‡∏≠‡∏î‡∏°‡∏¥‡∏ô) */
    --bg-inprog:#fff8e1;  /* ‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏á‡∏≠‡πà‡∏≠‡∏ô */
    --bg-done:#ecfdf5;    /* ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß‡∏≠‡πà‡∏≠‡∏ô */
    --bg-stop:#ffecec;    /* ‡∏ä‡∏°‡∏û‡∏π‡∏≠‡πà‡∏≠‡∏ô */
  }
  *{box-sizing:border-box;}
  body{
    margin:0;
    font-family:"Prompt",sans-serif;
    color:var(--text);
    background:var(--bg);
  }
  header{
    padding:20px;
    background:linear-gradient(135deg,#e0f7f5,#f0fdfa);
    border-bottom:1px solid var(--border);
    display:flex;
    align-items:center;
    justify-content:space-between;
  }
  .logo{font-weight:700;font-size:20px;color:var(--accent);}
  main{
    max-width:1000px;
    margin:30px auto;
    padding:0 16px;
  }
  .card{
    background:var(--card);
    border:1px solid var(--border);
    border-radius:var(--radius);
    padding:20px;
    margin-bottom:16px;
    box-shadow:0 3px 10px rgba(0,0,0,.05);
  }
  h2{margin-top:0;font-size:20px;color:var(--accent);}
  .note{color:var(--muted);font-size:13px;}

  /* SUMMARY (‡∏Å‡∏•‡πà‡∏≠‡∏á‡∏™‡∏£‡∏∏‡∏õ‡∏î‡πâ‡∏≤‡∏ô‡∏ö‡∏ô) */
  .summary{
    display:flex; flex-wrap:wrap; gap:10px; margin:12px 0 6px;
  }
  .chip{
    padding:10px 14px; border-radius:12px; border:1px solid var(--border); background:#fff;
    font-weight:700; font-size:14px; display:flex; align-items:center; gap:8px;
  }
  .dot{width:10px;height:10px;border-radius:999px;display:inline-block}
  .dot.inprog{background:#f59e0b}
  .dot.done{background:#10b981}
  .dot.stop{background:#ef4444}
  .chip .num{font-weight:700}

  /* FILTER BAR */
  .filter-bar{
    display:flex;
    gap:10px;
    align-items:center;
    margin:10px 0 16px;
  }
  select{
    padding:8px 12px;
    border-radius:10px;
    border:1px solid var(--border);
    font-family:"Prompt";
    font-size:14px;
    background:#fff;
  }

  /* TABLE (‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡πÅ‡∏≠‡∏î‡∏°‡∏¥‡∏ô) */
  table{width:100%;border-collapse:collapse;font-size:15px;}
  th,td{padding:10px;border-bottom:1px solid var(--border);vertical-align:top;text-align:left;}
  th{background:#f1f5f9;}
  tr[data-status="‡∏≠‡∏¢‡∏π‡πà‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£"]{background:var(--bg-inprog);}
  tr[data-status="‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£‡πÅ‡∏•‡πâ‡∏ß"]{background:var(--bg-done);}
  tr[data-status="‡πÑ‡∏°‡πà‡∏ï‡πà‡∏≠‡∏≠‡∏≤‡∏¢‡∏∏‡πÅ‡∏•‡πâ‡∏ß"]{background:var(--bg-stop);}

  /* ‡∏õ‡πâ‡∏≤‡∏¢‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡∏ù‡∏±‡πà‡∏á‡πÅ‡∏≠‡∏î‡∏°‡∏¥‡∏ô */
  .status{font-weight:600;padding:4px 8px;border-radius:8px;display:inline-block;}
  .status[data-status="‡∏≠‡∏¢‡∏π‡πà‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£"]{background:#fff7ed;color:var(--warn);}
  .status[data-status="‡πÑ‡∏°‡πà‡∏ï‡πà‡∏≠‡∏≠‡∏≤‡∏¢‡∏∏‡πÅ‡∏•‡πâ‡∏ß"]{background:#fef2f2;color:var(--danger);}
  .status[data-status="‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£‡πÅ‡∏•‡πâ‡∏ß"]{background:#ecfdf5;color:var(--ok);}
</style>
</head>
<body>
  <header>
    <div class="logo">üìÑ ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì</div>
    <button onclick="history.length>1?history.back():window.close()" style="padding:8px 14px;border:1px solid var(--border);background:white;border-radius:10px;cursor:pointer;">‡∏¢‡πâ‡∏≠‡∏ô‡∏Å‡∏•‡∏±‡∏ö</button>
  </header>

  <main>
    <div class="card">
      <h2>‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡πÅ‡∏•‡∏∞‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏</h2>
      <div id="companyName" class="note"></div>

      <!-- SUMMARY -->
      <div class="summary" id="summaryRow">
        <div class="chip"><span class="dot inprog"></span> ‡∏≠‡∏¢‡∏π‡πà‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£ <span class="num" id="sumInprog">0</span></div>
        <div class="chip"><span class="dot done"></span> ‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£‡πÅ‡∏•‡πâ‡∏ß <span class="num" id="sumDone">0</span></div>
        <div class="chip"><span class="dot stop"></span> ‡πÑ‡∏°‡πà‡∏ï‡πà‡∏≠‡∏≠‡∏≤‡∏¢‡∏∏‡πÅ‡∏•‡πâ‡∏ß <span class="num" id="sumStop">0</span></div>
        <div class="chip">‡∏£‡∏ß‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î <span class="num" id="sumAll">0</span></div>
      </div>

      <!-- FILTER -->
      <div class="filter-bar">
        <label for="statusFilter">‡πÅ‡∏™‡∏î‡∏á‡πÄ‡∏â‡∏û‡∏≤‡∏∞:</label>
        <select id="statusFilter">
          <option value="‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î">‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</option>
          <option value="‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£‡∏£‡∏ß‡∏°">‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£‡πÅ‡∏•‡πâ‡∏ß + ‡∏≠‡∏¢‡∏π‡πà‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£</option>
          <option value="‡∏≠‡∏¢‡∏π‡πà‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£">‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏≠‡∏¢‡∏π‡πà‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£</option>
          <option value="‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£‡πÅ‡∏•‡πâ‡∏ß">‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£‡πÅ‡∏•‡πâ‡∏ß</option>
          <option value="‡πÑ‡∏°‡πà‡∏ï‡πà‡∏≠‡∏≠‡∏≤‡∏¢‡∏∏‡πÅ‡∏•‡πâ‡∏ß">‡πÑ‡∏°‡πà‡∏ï‡πà‡∏≠‡∏≠‡∏≤‡∏¢‡∏∏‡πÅ‡∏•‡πâ‡∏ß</option>
        </select>
      </div>

      <!-- TABLE -->
      <table id="noteTable">
        <thead>
          <tr>
            <th>‡∏•‡∏≥‡∏î‡∏±‡∏ö</th>
            <th>‡∏ä‡∏∑‡πà‡∏≠‡∏Å‡∏≤‡∏£‡∏Ñ‡πâ‡∏≤</th>
            <th>‡∏ä‡∏∑‡πà‡∏≠‡∏™‡∏≤‡∏°‡∏±‡∏ç/‡∏™‡∏π‡∏ï‡∏£</th>
            <th>‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞</th>
            <th>‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏</th>
          </tr>
        </thead>
        <tbody>
          <tr><td colspan="5" style="color:var(--muted)">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•...</td></tr>
        </tbody>
      </table>
    </div>
  </main>

<script>
/* ===== Supabase ===== */
const SUPABASE_URL = "https://qmugpalgcktfwixqepti.supabase.co";
const SUPABASE_KEY = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFtdWdwYWxnY2t0ZndpeHFlcHRpIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTg4NzI3NjcsImV4cCI6MjA3NDQ0ODc2N30.cIOCbJAr8_Gbg8d5IxpTQZKVRgl1ETN1hyBgL2_LveA";
const sb = supabase.createClient(SUPABASE_URL, SUPABASE_KEY);

let allData = [];

/* ‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ï‡∏≤‡∏° code= ‡πÉ‡∏ô URL */
async function loadNotes(){
  const params = new URLSearchParams(window.location.search);
  const code = (params.get('code')||'').trim().toUpperCase();
  document.getElementById('companyName').textContent = code ? `‡∏£‡∏´‡∏±‡∏™‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤: ${code}` : '‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏™‡πà‡∏á‡∏£‡∏´‡∏±‡∏™‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏°‡∏≤ (?code=...)';

  // ‡∏î‡∏∂‡∏á‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ 3 ‡πÅ‡∏ö‡∏ö‡∏ô‡∏µ‡πâ (‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡∏Ç‡∏≠‡∏á‡πÅ‡∏≠‡∏î‡∏°‡∏¥‡∏ô)
  const { data, error } = await sb
    .from('product_registrations')
    .select('id,brand_name,common_label,renewed_status,renewed_note')
    .eq('company_code', code)
    .in('renewed_status', ['‡∏≠‡∏¢‡∏π‡πà‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£', '‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£‡πÅ‡∏•‡πâ‡∏ß', '‡πÑ‡∏°‡πà‡∏ï‡πà‡∏≠‡∏≠‡∏≤‡∏¢‡∏∏‡πÅ‡∏•‡πâ‡∏ß']);

  if(error){
    document.querySelector('#noteTable tbody').innerHTML = `<tr><td colspan="5">${error.message}</td></tr>`;
    return;
  }

  allData = (data || []).map(r => ({
    ...r,
    // ‡πÄ‡∏ú‡∏∑‡πà‡∏≠‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏Å‡πà‡∏≤‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ñ‡πà‡∏≤ ‡πÅ‡∏ï‡πà‡∏´‡πâ‡∏≤‡∏°‡πÇ‡∏ä‡∏ß‡πå‡πÉ‡∏ô‡πÄ‡∏û‡∏à‡∏ô‡∏µ‡πâ‡∏≠‡∏¢‡∏π‡πà‡∏î‡∏µ ‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡πÄ‡∏£‡∏≤‡∏Å‡∏£‡∏≠‡∏á‡πÅ‡∏•‡πâ‡∏ß
    renewed_status: r.renewed_status
  }));

  // ‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô: ‡∏≠‡∏¢‡∏π‡πà‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£ -> ‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£‡πÅ‡∏•‡πâ‡∏ß -> ‡πÑ‡∏°‡πà‡∏ï‡πà‡∏≠‡∏≠‡∏≤‡∏¢‡∏∏‡πÅ‡∏•‡πâ‡∏ß (‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô UX ‡∏ù‡∏±‡πà‡∏á‡πÅ‡∏≠‡∏î‡∏°‡∏¥‡∏ô)
  sortDefault(allData);

  renderCounts(allData);
  renderTable();
}

/* ‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡πÅ‡∏ö‡∏ö‡∏î‡∏µ‡∏ü‡∏≠‡∏•‡∏ï‡πå‡πÉ‡∏´‡πâ‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡πÅ‡∏≠‡∏î‡∏°‡∏¥‡∏ô */
function sortDefault(arr){
  const rank = { '‡∏≠‡∏¢‡∏π‡πà‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£': 0, '‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£‡πÅ‡∏•‡πâ‡∏ß': 1, '‡πÑ‡∏°‡πà‡∏ï‡πà‡∏≠‡∏≠‡∏≤‡∏¢‡∏∏‡πÅ‡∏•‡πâ‡∏ß': 2 };
  arr.sort((a,b)=>{
    const ra = rank[a.renewed_status] ?? 99;
    const rb = rank[b.renewed_status] ?? 99;
    if(ra !== rb) return ra - rb;
    // ‡∏£‡∏≠‡∏á‡∏°‡∏≤: ‡∏ä‡∏∑‡πà‡∏≠‡∏Å‡∏≤‡∏£‡∏Ñ‡πâ‡∏≤ A‚ÜíZ ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏ô‡∏¥‡πà‡∏á
    return (a.brand_name||'').localeCompare(b.brand_name||'', 'th');
  });
}

/* ‡∏™‡∏£‡∏∏‡∏õ‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç‡∏ö‡∏ô‡∏´‡∏±‡∏ß */
function renderCounts(rows){
  const inprog = rows.filter(x=>x.renewed_status==='‡∏≠‡∏¢‡∏π‡πà‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£').length;
  const done   = rows.filter(x=>x.renewed_status==='‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£‡πÅ‡∏•‡πâ‡∏ß').length;
  const stop   = rows.filter(x=>x.renewed_status==='‡πÑ‡∏°‡πà‡∏ï‡πà‡∏≠‡∏≠‡∏≤‡∏¢‡∏∏‡πÅ‡∏•‡πâ‡∏ß').length;

  document.getElementById('sumInprog').textContent = inprog.toLocaleString('th-TH');
  document.getElementById('sumDone').textContent   = done.toLocaleString('th-TH');
  document.getElementById('sumStop').textContent   = stop.toLocaleString('th-TH');
  document.getElementById('sumAll').textContent    = (inprog+done+stop).toLocaleString('th-TH');
}

/* ‡∏ß‡∏≤‡∏î‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏ï‡∏≤‡∏°‡∏ï‡∏±‡∏ß‡∏Å‡∏£‡∏≠‡∏á */
function renderTable(){
  const filter = document.getElementById('statusFilter').value;
  let filtered = [...allData];

  if(filter === '‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£‡∏£‡∏ß‡∏°'){
    filtered = filtered.filter(r => r.renewed_status==='‡∏≠‡∏¢‡∏π‡πà‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£' || r.renewed_status==='‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£‡πÅ‡∏•‡πâ‡∏ß');
    // ‡πÉ‡∏´‡πâ "‡∏≠‡∏¢‡∏π‡πà‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£" ‡πÇ‡∏ú‡∏•‡πà‡∏Å‡πà‡∏≠‡∏ô‡πÄ‡∏™‡∏°‡∏≠
    sortDefault(filtered);
  }else if(filter !== '‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î'){
    filtered = filtered.filter(r => r.renewed_status === filter);
    sortDefault(filtered);
  }else{
    // ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡∏Å‡πá‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏î‡∏µ‡∏ü‡∏≠‡∏•‡∏ï‡πå
    sortDefault(filtered);
  }

  const tb = document.querySelector('#noteTable tbody');
  if(filtered.length === 0){
    tb.innerHTML = `<tr><td colspan="5" style="color:var(--muted)">‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÉ‡∏ô‡∏´‡∏°‡∏ß‡∏î‡∏ô‡∏µ‡πâ</td></tr>`;
    return;
  }

  tb.innerHTML = filtered.map((r,i)=>`
    <tr data-status="${r.renewed_status}">
      <td>${i+1}</td>
      <td>${escapeHtml(r.brand_name) || '-'}</td>
      <td>${escapeHtml(r.common_label) || '-'}</td>
      <td><span class="status" data-status="${r.renewed_status}">${r.renewed_status}</span></td>
      <td>${r.renewed_note ? escapeHtml(r.renewed_note).replace(/\n/g,'<br>') : '-'}</td>
    </tr>
  `).join('');
}

/* utils */
function escapeHtml(s){ return String(s??'').replace(/[&<>"']/g, m=>({ '&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;' }[m])); }

/* start */
document.addEventListener('DOMContentLoaded', ()=>{
  loadNotes();
  document.getElementById('statusFilter').addEventListener('change', renderTable);
});
</script>
</body>
</html>
