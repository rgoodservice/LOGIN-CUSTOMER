<!DOCTYPE html><html lang="th"><head><meta charset="utf-8">
<title>Supabase Health Check</title>
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
<script src="config.js"></script>
<style>body{font-family:system-ui,Prompt,Arial;margin:0;padding:24px;line-height:1.6}
.card{border:1px solid #e5e7eb;border-radius:12px;padding:16px;margin:12px 0}</style></head>
<body>
<h2>ü©∫ Supabase Health Check</h2>
<div class="card">Origin: <code id="origin"></code></div>
<div id="out" class="card">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ó‡∏î‡∏™‡∏≠‡∏ö‚Ä¶</div>
<script>
const {SUPABASE_URL,SUPABASE_ANON_KEY}=window.APP_CONFIG;
document.getElementById('origin').textContent=location.origin;
const sb=supabase.createClient(SUPABASE_URL,SUPABASE_ANON_KEY);
(async()=>{
  try{
    const box=document.getElementById('out');
    const {data:{session}}=await sb.auth.getSession();
    const {data, error}=await sb.from('companies').select('code,name').limit(5);
    if(error) box.innerHTML=`‚ùå ‡∏≠‡πà‡∏≤‡∏ô companies ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ: ${error.message}`;
    else box.innerHTML=`‚úÖ OK ¬∑ session: ${session?'‡∏°‡∏µ':'‡πÑ‡∏°‡πà‡∏°‡∏µ'} ¬∑ companies: ${data.length} ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£`;
  }catch(e){ out.textContent='‚ùå '+(e.message||e); }
})();
</script></body></html>
